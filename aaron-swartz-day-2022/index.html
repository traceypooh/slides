<!doctype html><head><meta charset="utf-8"/><script src="../eveal.js/eveal.js"></script><title>Blogs & Websites from Markdown & JS - Tracey Jaquith</title></head><body>

## Blogs & Websites from Markdown & JS
## New Archive APIs JS Project

### [Tracey](https://mastodon.social/@traceypooh) [Jaquith](https://twitter.com/tracey_pooh)

#### [Aaron Swartz Day 2022](https://www.aaronswartzday.org/)

[tracey.archive.org](https://tracey.archive.org)

---
# The Idea

[tracey.archive.org](https://tracey.archive.org)

---
# A Site
<a href="https://blogtini.com"><img src="i/website.jpg"</a>

---
# A Post
<a href="https://blogtini.com/2022-07-blogtini-update/"><img src="i/post.jpg"</a>

---
# View Source
<a href="view-source:https://blogtini.com/2022-07-blogtini-update/"><img src="i/view-source.jpg"</a>

---
# Huh?
The page reads & parses itself

```js
const [frontmatter, markdown] = markdown_parse(
  document.getElementsByTagName('body')[0].innerHTML
)
```
[JS](https://blogtini.com/js/blogtini.js)


---
# [Files Layout](https://github.com/traceypooh/ipfstini)

---
<!-- .slide: data-background="i/layout.jpg" data-background-size="contain" -->


---
# Markdown
<p class="fragment fade-up">
Aaron Swartz invented in 2004<br>
(with John Gruber)
</p>

<p class="fragment fade-up">
**Goal**<br>
Readability<br>
Language readable as-is<br>
No tags & formatting instructions
</p>


---
## Publish full blog & web pages
- content 100% markdown
- theme & markdown-to-markup using JavaScript

---
## Publish full blog & web pages
- free github.com, gitlab.com
- using a `sitemap.xml` or RSS feed

<p class="fragment fade-up fragm">
‚Ä¢ pages can be hosted anywhere
</p>

<p class="fragment fade-up fragm">
‚Ä¢ including DWeb
</p>

<p class="fragment fade-up">
‚Ä¢ like "pointers" to your posts/pages
</p>


---
## How üï∑Ô∏è
<pre class="fragment fade-up">
JS "crawls" your site
</pre>

<pre class="fragment fade-up">
parses markdown "front matter"
- date
- title
- tags
- categories
</pre>

<pre class="fragment fade-up">
`showdown` to convert to HTML
</pre>

<pre class="fragment fade-up">
re-paints page
</pre>

<pre class="fragment fade-up">
`localStorage` to save analyzed site, auto-updates daily (can force re-cache)
</pre>

<pre class="fragment fade-up">
`lunr` for browser searching your posts/pages
</pre>

---
## Why ü§î
- each post or page is a markdown file

<p class="fragment fade-up">
‚Ä¢ markdown is primary, archive-friendly, format/theme agnostic
</p>

<p class="fragment fade-up">
‚Ä¢ site formatting is _secondary_
</p>

---
## Why ü§î
- all posts/pages can live in free `git` repo
  - github.com, gitlab.com, DWeb, self-hosted, etc.

<p class="fragment fade-up">
‚Ä¢ no build step, no backend needed<br>
  - just a static file server
</p>

<p class="fragment fade-up">
‚Ä¢ theme can be changed anytime (1 line change)
</p>

<p class="fragment fade-up">
‚Ä¢ [_good_ google SEO](https://www.google.com/search?q=site%3Ablogtini.com+and)
</p>

<p class="fragment fade-up">
‚Ä¢ google & more crawlers doing JS rendering
</p>

---
## Why ü§î
- "View Source" is your original content -- no formatting, no clutter

<p class="fragment fade-up">
‚Ä¢ You control your content
</p>

<p class="fragment fade-up">
‚Ä¢ posting to facebook, twitter, strava sucks
</p>

<p class="fragment fade-up">
‚Ä¢ where is your content?
</p>

<p class="fragment fade-up">
‚Ä¢ _what_ do you do with your GDPR?
</p>

<p class="fragment fade-up">
‚Ä¢ your data should last forever
</p>

<p class="fragment fade-up">
‚Ä¢ "roach proof" content-only format
</p>

---
## Life is better client-side üòä
- Just html + JS static files

---
### Life is better client-side üòä

```js
// parse frontmatter & (optional) `config.yml`
import yml from 'https://esm.archive.org/js-yaml'

// markdown-to-html
import showdown from 'https://esm.archive.org/showdown'

// code highlighting
import hljs from 'https://esm.archive.org/highlightjs'

// client-side search - like `solr`
import lunr from 'https://esm.archive.org/lunr'

// date/time hacking
import dayjs from 'https://esm.archive.org/dayjs'

// comments
import './staticman.js'

// sort hashmap by key
import { krsort } from 'https://av.archive.org/js/util/strings.js'
```


---
## Static Sites
- _comments_ possible using `staticman`, etc.
  - `staticman` -- comments go into your site repository
- _website search_ using `lunr` JS
- can use `git` "hooks" to run small script:
  - keeps `sitemap.xml` and RSS feed up-to-date
  - minor comments management

---
## Try it! ü§ì
Simple as:
- create new file
- index.html
  - contents:

<pre style="white-space: pre-wrap">
‚Äê‚Äê‚Äê
title: my neat post
date: 2022-08-27
tags:
  ‚Äê blogging
  ‚Äê markdown
comment: &amp;#60;script src="https://blogtini.com/js/blogtini.js" type="module" charset="utf-8"&amp;#62;&amp;#60;/script&amp;#62;
‚Äê‚Äê‚Äê
Having fun *blogging* and hoping to write _more_ this year.
</pre>

---
# Preview üëÄ
- use any basic http file server, eg:
```sh
python3 -m http.server
```
- OR open `index.html` in browser
  - [mac]: double click from `finder` folder; `open index.html` in `terminal`
- copy url to `safari` (if not already)
- dev tools, disable CORS restrictions & reload

---
<!-- .slide: data-background="i/cors.jpg" data-background-size="contain" -->

---
# Examples
https://blogtini.com/

Site with all posts in same github repository

---
# Examples
https://traceypooh.github.io/dwebtini/

Site with posts served from multiple storage sites
- github
- IPFS
- web3
- archive.org

_(click post links and notice browser url chnages)_


---
# Publish ‚úçüèΩ
- make https://github.com account
- create and `git clone` a new repository
- add your `index.html` file
- add `.nojekyll` (empty) file
- `git push`
- [turn on GitHub Pages](https://docs.github.com/en/pages/quickstart)
- https://[YOUR-GITHUB-USERNAME].github.io/[REPOSITORY-NAME]/

---
# Extending out
- millions of sites linked together
- only need recent posts from each site per sitemap/RSS
  - JS "crawl" them, parse their markdown, merge into decentralized feed

---
# Future üîÆ
- Aggregate all _your data/posts_ (twitter, facebook, etc.) to markdown posts on _your own_ site

- Friends & Family aggregate sitemap/feed
  - Friends & Family client-side aggregate lunr search
  - comments go to correct specific site/place/person/entity


---
# Future üîÆ
Archive a site of many sites

<p class="fragment fade-up">
Just one combo `sitemap.xml` away <span class="fragment">!</span>
</p>


---
# Longevity üßõ
<p class="fragment fade-up">
‚Ä¢ If `WordPress` goes away, billions of people _disappear forever_
</p>

<p class="fragment fade-up">
‚Ä¢ Average web page is gone in *three months*
</p>

<p class="fragment fade-up">
‚Ä¢ Make your (digital) life a _Vampire_
</p>

<p class="fragment fade-up">
‚Ä¢ Make it _Live Forever_
</p>

---
# Longevity ü™Ñ
```
‚ÄúTell me, what is it you plan to do
with your one wild and precious life?‚Äù
```
[Mary Oliver - "The Summer Day"](https://wordsfortheyear.com/2015/06/21/the-summer-day-by-mary-oliver/)

---
# Act Two

---
# New IA JS Project

call for volunteers!

---
# IA JS Repo
https://github.com/internetarchive/ia


---
Use Internet Archive APIs:
<p class="fragment fade-up">
  ‚Ä¢ In-browser pages
</p>
<p class="fragment fade-up">
  ‚Ä¢ JS npm unified library
</p>
<p class="fragment fade-up">
  ‚Ä¢ CLI (Command Line) tool
</p>

---
# Capabilities
- Search
- Downloading
- Metadata
- Uploading
- Editing


---
## Downloader Demo
https://internetarchive.github.io/ia/download/

Multi-item, resumable

---
## Join Us!
First Volunteer, Jonathan Bryant

---
# Join Us!
https://github.com/internetarchive/ia


---
## üôèüèΩ Thank You! üôèüèΩ

[tracey.archive.org](https://tracey.archive.org)

---
<!-- .slide: data-background="i/new-friends.jpg" data-background-size="contain" -->
## <div style="color:white; padding-top: 30%">DWebCamp 2022</div>
