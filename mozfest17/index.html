<!doctype html><head><script src="https://archive.org/~tracey/slides/eveal.js/eveal.js"></script></head><body>

# TV Archives cracked Open "AI for IA"
## Artificial Intelligence for Internet Archive
### MozFest, London Oct 2017

<small>
  by
  [traceypooh](https://twitter.com/tracey_pooh)
  <a href="https://github.com/traceypooh"><img style="margin:0" src="git.png"/></a>
  <br/>
</small>

<small>
  https://traceypooh.github.io/mozfest17
 _?_ for key shortcuts
</small>

```bash
git clone https://github.com/traceypooh/mozfest17; open mozfest17/index.html
```


<a href="https://archive.org">
  <img src="https://archive.org/images/glogo.png" style="position:fixed; bottom:0; left:10%;"/>
</a>
<a href="https://archive.org/tv">
  <img src="tvlogo-quarter.png" style="position:fixed; bottom:0; left:80%;"/>
</a>


---

# Gist
_decentralized research and AI <br/>
built on top of <br/>
a library of stable, untampered worldwide TV recordings_

---
# Intro to archive.org
- WayBack Machine
  - past copies of 300B+ pages
  - 15M books, lendable
  - ~4M videos, ~4M audio & live concerts
  - 3M images
  - 200K software items & emulation (in JS!)
---
<a href="https://web.archive.org/web/19961219202222/http://www.apple.com:80/">
  <img style="height:700px" src="wayback-apple.png"/>
</a>
---
<a href="https://archive.org/details/goodytwoshoes00newyiala">
  <img style="height:700px" src="bookreader.jpg"/>
</a>
---
<a href="https://archive.org/details/msdos_Pac-Man_1983">
  <img style="height:700px" src="software.png"/>
</a>
---
<a href="https://archive.org/details/Sita_Sings_the_Blues">
  <img style="height:700px" src="av.jpg"/>
</a>

---
# Library!
- Absolute browser Privacy
  - no personal data or IP addresses extracted
- Validation & nontampering
  - keep original versions with 2+ checksums and logs
```xml
<file name="commute.mp4" source="derivative">
<title>commute</title>
<format>h.264</format>
<original>commute.avi</original>
<mtime>1325973601</mtime>
<size>11919082</size>
<md5>ff17ed66e7db5693dd208dd6ac488ff8</md5>
<crc32>ad1df03a</crc32>
<sha1>e9f9de8379cd25653d487ab30d198fc61a050091</sha1>
<length>115.61</length>
<height>480</height>
<width>640</width>
</file>
```
---
## External Blockchain of Proofs
### of file mod times / checksums
- <a href="https://opentimestamps.org/internet-archive">
  OpenTimestamps</a>
- uses SHA-1 and Merkle trees
- by Peter Todd - <a href="https://petertodd.org/2017/carbon-dating-the-internet-archive-with-opentimestamps">
  blog</a>
- _brand new!_

---
# archive.org/tv
- recording 50 - 100 channels
  - 24 x 7
  - around the world
  - since 2000
- _2 million+ news shows_
- <a href="https://archive.org/tv?q=mozilla+firefox">search captions</a>/metadata
- new Trump Administration and Congress subsets
- citable reference clips
- <a href="https://archive.org/pop">Popcorn</a> editing/mashup clips
- for AI experiments

---
# Artificial Intelligence
- _text_:
  - chyron ("lower third") scanning OCR (Third Eye)
  - caption alignment
  - OCR captions from DVB-S
    - BBC News
  - speech to text (VoiceBase)
    - Al Jazeera English
    - Deutsche Welle English
- _image_:
  - public officials facial detection<br/> (Faceomatic <-- Matroid <-- FaceNet)

---
# Artificial Intelligence
- _audio_:
  - fingerprinting
    - <a href="https://github.com/dpwe/audfprint">audfprint</a> - free/open like shazam
    - <a href="https://politicalAdArchive.org">political Ad tracking</a>
    - <a href="https://github.com/slifty/tvarchive-duplitron">Duplitron 5000</a>

---
# Public Feeds
- twitter bots & TSV
  - <a href="https://archive.org/services/third-eye.php">Third Eye</a>
- slack bot
  - <a href="https://blog.archive.org/2017/07/19/introducing-face-o-matic/">Faceomatic</a>
- continuous captions feed from CSPAN
  - https://openedcaptions.com
  - https://pietropassarelli.gitbooks.io/textav/projects/opened-captions-service.html


---
<img style="height:155px" src="https://archive.org/download/third-eye/third-eye.png"/>
- OCR 'lower third'
  - chyrons
    - overlaid text on broadcasts
    - not captions or descriptive text
    - editorial / summarizing in nature
- 4 TV channels, 24x7, ~1 min from realtime
  - CNN
  - MSNBC
  - Fox News
  - BBC News

---
<div style="max-width:500px; margin:auto">
  <img src="https://archive.org/download/third-eye/xmsn-full.png"/>
  <img src="down.png"/>
  <img src="https://archive.org/download/third-eye/xmsn.png"/>
  <img src="down.png"/>
  <pre>
  AFTER WH MEETING, SCHUMER DISHES
  WHEN HE THOUGHT NIC WAS OFF
  </pre>
</div>
---
# bots  
- twitter bots
  - https://twitter.com/tvThirdEye
    - https://twitter.com/tvThirdEyeB
    - https://twitter.com/tvThirdEyeF
    - https://twitter.com/tvThirdEyeM
  - https://twitter.com/tvThirdEye/lists/all

---
<img src="https://archive.org/download/third-eye/tweet.png"/>

---
# API
- Tab Separated Values
- https://archive.org/services/third-eye.php
  - nice for command-line
  - import to google and excel spreadsheets
  - filtered
  - raw (~25MB / day)
    - more errors
    - 3rd-party filtering possible
  - TSV files uploaded to https://archive.org/details/third-eye

---
# Chyron filtering
- tesseract OCR
  - free; errors
- <a href="http://manpages.ubuntu.com/manpages/man1/simhash.1.html">simhash</a>
  - groups 'nearly the same'
    - character flips
    - word off in time
- look for vowels
- pick 'most seen' group every minute
  - and tweet

---
# TV AI Examples
- Vox determined Puerto Rico was paid little attention by Fox News
  - https://vox.com/2017/10/2/16401614/fox-news-puerto-rico-charts
- audio fingerprints
  - presented keynote paper on<br/> <a href="http://www.brycejdietrich.com/files/dietrich_schultz_television.pdf">CSPAN floor speeches and vocal pitch</a> <br/>Bryce Dietrich, UIowa
  - discovered 375K political Ads
  - find sound bites of speeches

---
# clips
- little JSON annotations
- associate metadata to program start/end time range
- auto expands each clip to a "synthetic" document
  - to elastic search
- JSONPatch for changes
- track play counts, some referers
- allows for _decentralized_ annotations to other IA / research

---
# clip
```json
{
    "268.1|269.1": {
        "subject": [
            "Criminal Activity"
            "Crime"
        ],
        "factcheck": [
            "http://www.factcheck.org/2016/07/factchecking-trumps-big-speech/"
        ]
    },
    "266.7|267.2": {
        "ad_id": "PolAd_DonaldTrump_d9dsn",
        "type": "campaign",
        "race": "PRES",
        "cycle": "2016",
        "message": "pro",
        "sponsor": [
            "Republican National Cmte"
        ],
        "sponsor_type": "PAC",
        "subject": [
            "Job Accomplishments"
        ],
        "person": [
            "Donald Trump"
        ]
    },
    "268.1|269.1": {
        "collection": [
            "nancy_pelosi_archive"
        ],
        "subject": [
            "Voting",
        ],
    }
}
```

---
# Where We're Going
- https://archive.org/details/TVNewsKitchen
- want to serve journalists, researchers, librarians & more
- responsible behavior and access to data
- non-consumptive use


---
## [Part 2] "There Goes 2 Weeks"
## deep dive into Image Matching and<br/> Facial Recognition

<br/>
<br/>
<small><i>An imposter does not have Imposter Syndrome</i></small>

---
# CNNs
- Convolutional Neural Network
  - filtered neural network
- each layer uses output from prior layer as input
- instead of rule-based learning, use classified datasets to learn
- multi-node connections (but not "fully connected")
- "data squashers"

---
# CNN Example
- feed in image
- node looking for eyelash
- node looking for iris
  - could feed to node looking for eye
- meanwhile... nose node
  - all feed to face recognizer node
  - could feed to "is this Barack Obama?"


---
# Guru
Rik Heijdens from jwplayer
- <a href="https://www.youtube.com/watch?v=oGP7TfaRVlM">Demuxed 2017 talk</a>
- feed in video - for each _shot_, make 3 vectors:
  - _image_ Inception CNN (tensorflow)
  - _audio_ CNN spectrogram
  - _text_ transcripts/STT into Word2Vec
- concat vectors, compare (cosine similarity), and graph
- ... yields _scene detection_
- all just for ideal Ad insertion!

---
# Image Matching
- pixel diff algorithms (MAE, RMSE, MSE)
- perceptual hashing pHash.org
  - image => _8x8 grayscale_
  - convolve to 8x8 image with DCT
  - reduce to _64bit_ number
  - hamming distance Int64 pairs

---
### pHash - to gray 8x8
<style> .hashes img { width:150px; } </style>
<div class="hashes">
  <img src="hash-images/AaronSwartz.png">
  <img src="hash-images/AaronXimm.png">
  <img src="hash-images/AlexisRossi.png">
  <img src="hash-images/BrewsterKahle.png">
  <img src="hash-images/JudeCohelo.png">
  <img src="hash-images/TraceyJaquith.png">
  <br/>
  <img src="hash-images/AaronSwartz.png.jpg">
  <img src="hash-images/AaronXimm.png.jpg">
  <img src="hash-images/AlexisRossi.png.jpg">
  <img src="hash-images/BrewsterKahle.png.jpg">
  <img src="hash-images/JudeCohelo.png.jpg">
  <img src="hash-images/TraceyJaquith.png.jpg">
  <br/>
  <img src="hash-images/AaronSwartz-gray.png">
  <img src="hash-images/AaronXimm-gray.png">
  <img src="hash-images/AlexisRossi-gray.png">
  <img src="hash-images/BrewsterKahle-gray.png">
  <img src="hash-images/JudeCohelo-gray.png">
  <img src="hash-images/TraceyJaquith-gray.png">
</div>

---
# TensorFlow & Training
- https://www.tensorflow.org/tutorials/image_recognition
- trained CNNs, locally run
- GoogLeNet Inception general classifier
- retrainable / customizable
  - redo 'top layer' (Rik idea)
  - https://www.tensorflow.org/tutorials/image_retraining
- 2048 multi-byte vectors (floats)
- iOS smaller single-byte vectors
- cosine distance comparisons
- can just compare vectors (and ignore readable classification labels (Rik idea))

---
# OpenFace
- implementation of <a href="https://arxiv.org/abs/1503.03832">FaceNet</a>
- https://cmusatyalab.github.io/openface/demo-3-classifier
- similar to tensorflow (Torch..)

---
# OpenFace Training
- 3+ images per person/face
- avoid 'overfit'
- align eyes + nose (nostrils?)
<br/>
<img src="https://archive.org/~tracey/train/__aligned/BrewsterKahle/a.png"/>
<img src="https://archive.org/~tracey/train/__aligned/BrewsterKahle/d.png"/>
<img src="https://archive.org/~tracey/train/__aligned/BrewsterKahle/e.png"/>
<img src="https://archive.org/~tracey/train/__aligned/BrewsterKahle/f.png"/>
<br/>
<img src="https://archive.org/~tracey/train/__aligned/TraceyJaquith/a.png"/>
<img src="https://archive.org/~tracey/train/__aligned/TraceyJaquith/b.png"/>
<img src="https://archive.org/~tracey/train/__aligned/TraceyJaquith/c.png"/>
<img src="https://archive.org/~tracey/train/__aligned/TraceyJaquith/f.png"/>

---
# Siamese "one shot" CNN recognizers
- Rik idea
- _differentiate_ instead of _classify_
- learns similarity of 2 inputs
<img src="https://cdn-images-1.medium.com/max/1600/1*tzGB6D97tHWR_-NJ8FKknw.jpeg"/>
- <a href="https://github.com/traceypooh/Facial-Similarity-with-Siamese-Networks-in-Pytorch">repo / py notebook</a>
---
<img style="max-height:650px" src="https://cdn-images-1.medium.com/max/1200/1*XzVUiq-3lYFtZEW3XfmKqg.jpeg"/>

---
# AI Ethics
- face tracking only public figures
- https://www.itic.org/resources/AI-Policy-Principles-FullReport2.pdf
  - min. government regulation & access
  - public/private partner;  diversity/inclusion++
  - preserve human dignity, rights, freedoms
  - min. risk to humans;  human control
  - large datasets -- avoid harmful bias
- open discussion


---
# Demo Time
<!-- .slide: data-background="https://media.giphy.com/media/F3RKa517VBRg4/giphy.gif" -->

---
# Demo Time
- Siamese network
- <a href="https://www.youtube.com/watch?v=Y94pLw9X2yY">miniARchive</a>
- <a href="https://www.tensorflow.org/mobile/">tensorflow</a>
- google translate


---
# help Shape US with YOUR Thoughts
- extend/shape our APIs
- AI ideas
- research, visualizations
- tag clips with AI metadata or pointers to Decentralized metadata
- more!

---
# Ergo
_decentralized research and AI <br/>
built on top of <br/>
a library of stable, untampered worldwide TV recordings_

---
<!-- .slide: data-background="https://media.giphy.com/media/q4ICE9wYvOwBG/giphy.gif" -->
# The End
